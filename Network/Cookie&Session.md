
## You can answer
- 내 최애 디저트는?

-------

# Cookie & Session
HTTP는 비상태성(Stateless) 프로토콜로 상태 정보를 유지하지 않는다. 
- 연결을 유지하지 않기 때문에 리소스 낭비가 줄어드는 것은 큰 장점
- but, 통신할 때마다 매번 연결 설정을 해야 하며, 이전 요청과 현재 요청이 같은 사용자의 요청인지 알 수 없다는 단점이 존재한다.

쿠키와 세션을 통해서 HTTP의 Stateless한 문제점을 해결할 수 있다.

## 쿠키란?


> 웹 서버가 브라우저에게 지시하여 사용자의 로컬 컴퓨터에 파일 또는 메모리에 저장하는 작은 기록 정보 파일이다. 
파일에 담긴 정보는 인터넷 사용자가 같은 웹사이트를 방문할 때마다 읽히고 수시로 새로운 정보로 바뀔 수 있다.

**Cookie를 이용한 Server-Client 흐름**
<img width="739" alt="스크린샷 2021-08-09 오전 1 32 17" src="https://user-images.githubusercontent.com/70083982/128638942-9a886799-4787-4a09-b2dd-3346ff044ed2.png">


## 세션이란?

> HTTP Session id를 식별자로 구별하여 데이터를 사용자의 브라우저에 쿠키형태가 아닌 접속한 서버 DB에 정보를 저장 합니다.
클라이언트는 HTTP Session id를 쿠키로 메모리 저장된 형태로 가지고 있습니다.
메모리에 저장하기 때문에 브라우저가 종료되면 사라지게 됩니다.

<img width="889" alt="스크린샷 2021-08-09 오전 1 34 08" src="https://user-images.githubusercontent.com/70083982/128638987-e91f4b1a-0b18-4ce2-b658-b70556f5c165.png">


## 자, 이제 둘을 비교해보자!
## 저장 위치

    쿠키 : 클라인어트의 웹 브라우저가 지정하는 메모리 or 하드 디스크

    세션 : 서버의 메모리

## 만료 시점

    쿠키 : 저장할 때, expires 속성을 정의하여 무효화시키면 삭제될 날짜를 지정할 수 있다.

    세션 : 클라이언트가 로그아웃하거나 설정 시간 동안 반응이 없으면 무효화되기 때문에 정확한 시점을 알 수 없다.

## 리소스

    쿠키 : 클라이언트에 저장되고 클라이언트의 메모리를 사용하기 때문에 서버 자원을 사용하지 않는다.

    세션 : 서버에 저장되고, 서버 메모리로 로딩되기 때문에 세션이 생길 때마다 리소스를 차지한다.

## 용량 제한

    쿠키 : 클라이언트도 모르게 접속되는 사이트에 의하여 설정될 수 있기 때문에 쿠키로 인해 문제가 발생하는 걸 막고자 한 도메인당 20개, 하나의 쿠키당 4KB로 제한해 두었다.

    세션 : 클라이언트가 접속하면 서버에 의해 생성되므로 개수나 용량 제한이 없다.


## 보안

    쿠키 : 클라이언트에 저장하기 때문에 보안에 취약하다.

    세션 : 서버에 저장하기 때문에 쿠키에 비해서는 보안에 우수하다.


